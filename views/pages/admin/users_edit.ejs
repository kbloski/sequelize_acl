<%- include('../partials/head.ejs', {title: 'User edit'}) %>
<body>
    <h3>Admin panel</h3>
    <%- include('../partials/navbar', { user: user}) %>
    

    
    <% const selectSchoolHtml = htmlHelper.getSelectIdCodeFromArr(schools, 'schoolId', 'name', 'schoolId', 'form-control', editUser.schoolId ) %>
    <% const selectRoles = htmlHelper.getSelectCodeFromArr(rolesArr, 'role', 'roleControl', 'form-control') %>

    <h3>Edit user form:</h3>
    <form action="/admin/users/edit" method="POST">
        <input type="text" name="id" hidden value="<%= editUser.id %>">
        <div>
            <label for="nameControl" class="form-label">Name:</label>
            <input type="text" value="<%= editUser.name %>" id="nameControl" class="form-control" name="name" required>
        </div>
        <div>
            <label for="surnameControl" class="form-label">Surname:</label>
            <input type="text" id="surnameControl" value='<%= editUser.surname %>' class="form-control" name="surname">
        </div>
        <div>
            <label for="ageControl" class="form-label">Age</label>
            <input type="number" min="1" max="130" value="<%= editUser.age %>" id="ageControl" value="<%= editUser.age %>" class="form-control" name="age">
        </div>
        <div>
            <label for="addressControl" class="form-label">Address</label>
            <input type="text" id="addressControl" value="<%= editUser.address %>" class="form-control" name="address">
        </div>
        <div>
            <label for="emailControl" class="form-label">Email:</label>
            <input type="email" id="emailControl" value="<%= editUser.email %>" class="form-control" name="email" required>
        </div>
        <div>
            <label for="passwordControl" class="form-label">Password:</label>
            <input type="password" id="passwordControl" class="form-control" name="password" disabled>
        </div>
        <div>
            <label for="schoolId" class="form-label">School:</label>
            <%- selectSchoolHtml %>
        </div>
        <div>
            <label for="roleControl" class="form-label">Role</label>
            <%- selectRoles %>
            
        </div>
        <button type="submit" class="btn">Edit complete</button>
    </form>
    <%- include('../partials/footer') %>
</body>
</html>